<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="Icons/Calc.png">
    <link href="css/Custom.css" rel="stylesheet" />
    <link href="css/prism.css" rel="stylesheet" />
    <title>Mortgage Loan Calculator</title>

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.min.css" rel="stylesheet">

</head>

<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
        <!-- Sidebar - Brand -->
        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

            <!-- Sidebar - Brand -->
            <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
                <div class="sidebar-brand-icon rotate-n-15">
                    <i class="fas fa-money-check-alt"></i>
                </div>
                <div class="sidebar-brand-text mx-3 h6 mb-0 font-weight-bolder">Mortgage Loan Calculator</div>
            </a>
            <!-- Divider -->
            <hr class="sidebar-divider my-0">

            <!-- Nav Item - Dashboard -->
            <li class="nav-item">
                <a class="nav-link" href="index.html">
                    <i class="fas fa-home"></i>
                    <span> Home</span>
                </a>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                Interface
            </div>

            <!-- Nav Item - Pages Collapse Menu -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                    <i class="fas fa-compass"></i>
                    <span>Navigation</span>
                </a>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <a class="collapse-item" href="amortizationDashboard.html">Calculator</a>
                        <a class="collapse-item" href="code.html">Code</a>
                    </div>
                </div>
            </li>


            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                Find Us
            </div>

            <!-- Nav Item - Github Collapse Menu -->
            <li class="nav-item ">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePages" aria-expanded="true" aria-controls="collapsePages">
                    <i class="fab fa-github"></i>
                    <span>Github</span>
                </a>
                <div id="collapsePages" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <a class="collapse-item" href="https://github.com/ASTR0NAUTJ0NES/AmortizationCalculatorApp" target="_blank">This Page</a>
                        <a class="collapse-item" href="https://github.com/ASTR0NAUTJ0NES" target="_blank">Andrew</a>
                        <a class="collapse-item" href="https://github.com/CypharX" target="_blank">Anthony</a>
                        <a class="collapse-item" href="https://github.com/cmkit15" target="_blank">Kit</a>
                    </div>
                </div>
            </li>

            <li class="nav-item ">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePort" aria-expanded="true" aria-controls="collapsePort">
                    <i class="fas fa-suitcase"></i>
                    <span> Portfolios</span>
                </a>
                <div id="collapsePort" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <a class="collapse-item" href="https://www.andrewalbaneseportfolio.com" target="_blank">Andrew</a>
                        <a class="collapse-item" href="https://aduval.netlify.app" target="_blank">Anthony</a>
                        <a class="collapse-item" href="https://kit-chau.netlify.app" target="_blank">Kit</a>
                    </div>
                </div>
            </li>


        </ul>



        <!-- End of Sidebar -->
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <!-- Topbar -->
                <nav class="navbar navbar-expand  topbar mb-3 static-top ">

                    <!-- Sidebar Toggle (Topbar) -->
                    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                        <i class="fa fa-bars"></i>
                    </button>

                </nav>
                <!-- End of Topbar -->
                <!-- Begin Page Content -->
                <div class="container-fluid text-center">
                    <div class="row">
                        <div class="col">
                            <div class="title-custom  font-weight-bolder mt-5 mb-5"><h1 class="code-title-text">Code</h1></div>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col">
                            <p class="h4">The Javascript functions that power this application.</p>
                        </div>
                    </div>
                    <hr />
                    <div class="row">
                        <div class="col">
                            <button type="button" class="collapseThis successBg">Payment Calculations</button>
                            <div class="content">
                                <pre>
<code class="language-js line-numbers">// formats output to US Currency format
const formatter = new Intl.NumberFormat('en-US', {
	style: 'currency',
	currency: 'USD',
	minimumFractionDigits: 2
})

// calculate monthy interest rate
function monthlyInterestRate(yearlyInterestRate) {
	return (yearlyInterestRate / 100) / 12;
}

// calculates total cost
function totalCost(monthlyInterestRate, principleLoanAmount, totalMonths) {
	return ((monthlyInterestRate * principleLoanAmount) / (1 - (1 + monthlyInterestRate) ** -totalMonths)) * totalMonths;
}

// calculate monthly payment
function monthlyPayment(totalCost, totalMonths) {
	return totalCost / totalMonths;
}

// calculate total interest accrued
function totalInterest(totalCost, principleLoanAmount) {
	return totalCost - principleLoanAmount;
}
</code>
</pre>
                            </div>
                            <button type="button" class="collapseThis dangerBg">Output Functions</button>
                            <div class="content">
                                <pre>
<code class="language-js line-numbers">
    // do calculations when user submits data
function calculate() {
	let loanAmount = parseFloat(document.getElementById("inputLoan").value);
	let term = parseInt(document.getElementById("inputTerm").value);
	let interestRate = parseFloat(document.getElementById("inputInterest").value);

	if (isNaN(loanAmount) || isNaN(term) || isNaN(interestRate)) {
		Swal.fire({
			title: 'Error!',
			text: 'Inputs can not be blank',
			icon: 'warning',
			confirmButtonText: 'Back'
		})
	} else {
		// outputting total cost
		let tCost = `${formatter.format(totalCost(monthlyInterestRate(interestRate), loanAmount, term))}`;
		document.getElementById("totalCostSpan").innerHTML = `${tCost}`;
		// outputting total interest
		let tInterest = `${formatter.format(totalInterest(totalCost(monthlyInterestRate(interestRate), loanAmount, term), loanAmount))}`;
		document.getElementById("totalInterestSpan").innerHTML = `${tInterest}`;

		// outputting monthly payment
		let mPayment = `${monthlyPayment(totalCost(monthlyInterestRate(interestRate), loanAmount, term), term)}`
		document.getElementById("monthlyPaymentSpan").innerHTML = `${formatter.format(mPayment)}`;


		document.getElementById("loanOutput").innerHTML = `${formatter.format(loanAmount)}`;
		document.getElementById("termOutput").innerHTML = `${term} Months`;
		document.getElementById("interestOutput").innerHTML = `${interestRate}%`;

		let tableOut = "";
		let currPrinc = loanAmount;
		let intPayment = 0;
		let totalInt = 0;
		let princPayment = 0;
		//Loop to fill the table
		for (let loop = 1; loop <= term; loop++) {
			intPayment = currPrinc * (interestRate / 1200);
			princPayment = mPayment - intPayment;
			totalInt = totalInt + intPayment;
			currPrinc = currPrinc - princPayment;
			tableOut += '<tr>';
			tableOut += `<td>${loop}</td>`;
			tableOut += `<td>${formatter.format(mPayment)}</td>`;
			tableOut += `<td>${formatter.format(princPayment)}</td>`;
			tableOut += `<td>${formatter.format(intPayment)}</td>`;
			tableOut += `<td>${formatter.format(totalInt)}</td>`;
			tableOut += `<td>${formatter.format(currPrinc)}</td>`
			tableOut += '</tr>';
		}
		tableOut += "<thead><tr><th>Month</th><th>Payment</th><th>Principal</th><th>Interest</th><th>Total Interest</th><th>Balance</th></tr></thead>"
		tableOut += "<tfoot><tr><th>Month</th><th>Payment</th><th>Principal</th><th>Interest</th><th>Total Interest</th><th>Balance</th></tr></tfoot>"
		document.getElementById("dataTable").innerHTML = tableOut;
	}

	// Call the dataTables jQuery plugin
	$(document).ready(function () {
		$('#dataTable').DataTable();
	});
}

</code>
</pre>
                            </div>
                            <button type="button" class="collapseThis warningBg">Input Validation</button>
                            <div class="content">
                                <pre>
<code class="language-js line-numbers">// Validates characters for user keyboard inputs
document.getElementById('inputTerm').addEventListener('keypress', function (evt) { 
    let char = evt.which;
    
    if (char >= 48 && char <= 57 || char == 46) {
        return true;
    }
    else {
        evt.preventDefault();
        return false;
    }
});
document.getElementById('inputLoan').addEventListener('keypress', function (evt) {
    let char = evt.which;

    if (char >= 48 && char <= 57 || char == 46) {
        return true;
    }
    else {
        evt.preventDefault();
        return false;
    }
});
document.getElementById('inputInterest').addEventListener('keypress', function (evt) {
    let char = evt.which;

    if (char >= 48 && char <= 57 || char == 46) {
        return true;
    }
    else {
        evt.preventDefault();
        return false;
    }
});
</code> 
</pre>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End of Main Content -->

            </div>
            <!-- End of Content Wrapper -->
            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; Amortization Calculator 2020</span>
                    </div>
                </div>
            </footer>
            <!-- End of Footer -->
        </div>
        <!-- End of Page Wrapper -->
        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top">
            <i class="fas fa-angle-up"></i>
        </a>
        <!-- Bootstrap core JavaScript-->
        <script src="vendor/jquery/jquery.min.js"></script>
        <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

        <!-- Core plugin JavaScript-->
        <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

        <!-- Custom scripts for all pages-->
        <script src="js/sb-admin-2.min.js"></script>
        <script src="Scripts/prism.js"></script>        
        <script src="Scripts/code.js"></script>
</body>

</html>
